## COPYRIGHT (C) HARRY CLARK 2024
## CS2_IAI STUDY MATERIAL

#########################################################################
##			PREFIXES			       ##
#########################################################################

CC 				= 		$(PREFIX)gcc
WARNINGS		= 		-std=c99 -Wall -Wextra -Wparentheses -Werror -pedantic
SRC				= 		src
INC				= 		inc

#########################################################################
##			FILE ACCESS		       ##
#########################################################################

IAI_FILES	= 		$(wildcard $(SRC)/*.c)
IAI_OBJS	= 		$(IAI_FILES:$(SRC)/%.c=$(SRC)/%.o)

#########################################################################
##		    TARGET LINKING	       ##
#########################################################################

TARGET 		= 		cs2_iai

all: $(TARGET)

$(TARGET): $(IAI_OBJS)
	$(CC) $(IAI_OBJS) -o $@

$(SRC)/%.o: $(SRC)/%.c
	$(CC) $(WARNINGS) -I$(INC) -c $< -o $@

#########################################################################
##			CLEANUP 		       ##
#########################################################################

clean:
	rm -f $(SRC)/*.o $(TARGET)

.PHONY: clean
